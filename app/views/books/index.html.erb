<h1>Book list</h1>

<%= form_for books_path, {:method => :get} do %>
  <div>
    <%= select "book", "category", options_for_select(Category.all.collect{ |c| c.label }, selected: params.dig(:book, :category)), { include_blank: true } %>
    <%= text_field_tag :search, params[:search] %>
    <%= submit_tag "Search", :name => nil %>
  </div>
<% end %>

<ul class="books">
  <% @books.each do |book| %>
    <li><%= link_to book.title, book %></li>
  <% end %>
</ul>